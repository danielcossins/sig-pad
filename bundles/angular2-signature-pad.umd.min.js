!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/common"],e):"object"==typeof exports?exports["angular2-signature-pad.umd.min"]=e(require("@angular/core"),require("@angular/common")):t["angular2-signature-pad.umd.min"]=e(t["@angular/core"],t["@angular/common"])}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=6)}([function(e,n){e.exports=t},function(t,e,n){"use strict";var o=n(0),i=(n.n(o),n(4));n.n(i);n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this._el=t,this.onSave=new o.EventEmitter,this.onClear=new o.EventEmitter,this._width=200,this._height=200,this._label="Sign above"}return t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"width",{set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{set:function(t){this._height=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDataURL",{set:function(t){this._fromDataURL=t,this._signaturePad.fromDataURL(this._fromDataURL)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fromData",{set:function(t){this._fromData=t,this._signaturePad.fromData(this._fromData)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideFooter",{set:function(t){this._hideFooter=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{set:function(t){this._label=t},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this._canvas=this._el.nativeElement.querySelector("canvas"),this._signaturePad=new i(this._canvas)},t.prototype.onClearClick=function(){this._signaturePad.clear(),this.onClear.emit()},t.prototype.onSaveClick=function(){this.onSave.emit(this._signaturePad.toDataURL())},t}();r([n.i(o.Output)(),a("design:type",Object)],s.prototype,"onSave",void 0),r([n.i(o.Output)(),a("design:type",Object)],s.prototype,"onClear",void 0),r([n.i(o.Input)(),a("design:type",Number),a("design:paramtypes",[Number])],s.prototype,"width",null),r([n.i(o.Input)(),a("design:type",Number),a("design:paramtypes",[Number])],s.prototype,"height",null),r([n.i(o.Input)(),a("design:type",String),a("design:paramtypes",[String])],s.prototype,"formDataURL",null),r([n.i(o.Input)(),a("design:type",String),a("design:paramtypes",[String])],s.prototype,"fromData",null),r([n.i(o.Input)(),a("design:type",Boolean),a("design:paramtypes",[Boolean])],s.prototype,"hideFooter",null),r([n.i(o.Input)(),a("design:type",String),a("design:paramtypes",[String])],s.prototype,"label",null),s=r([n.i(o.Component)({selector:"signature-pad,[SignaturePad]",template:'\n    <div id="signature-pad" class="m-signature-pad" [style.width.px]="_width" [style.height.px]="_height">\n    <div class="m-signature-pad--body" [style.width.px]="_width-40" [style.height.px]="_height-40">\n       <canvas [width]="_width-40" [height]="_height-40" style="touch-action: none;"></canvas>\n    </div>\n    <div class="m-signature-pad--footer" [hidden]="_hideFooter">\n      <div class="description">{{_label}}</div>\n      <button type="button" class="button clear" data-action="clear" (click)="onClearClick()">Clear</button>\n      <button type="button" class="button save" data-action="save" (click)="onSaveClick()">Save</button>\n    </div>\n  </div>\n ',styles:['\n.m-signature-pad {\n  position: relative;\n  font-size: 10px;\n  border: 1px solid #e8e8e8;\n  background-color: #fff;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.27), 0 0 40px rgba(0, 0, 0, 0.08) inset;\n  border-radius: 4px;\n}\n\n.m-signature-pad:before, \n.m-signature-pad:after {\n\tposition: absolute;\n  z-index: -1;\n  content: "";\n\twidth: 40%;\n\theight: 10px;\n\tleft: 20px;\n\tbottom: 10px;\n\tbackground: transparent;\n\t-webkit-transform: skew(-3deg) rotate(-3deg);\n\t-moz-transform: skew(-3deg) rotate(-3deg);\n\t-ms-transform: skew(-3deg) rotate(-3deg);\n\t-o-transform: skew(-3deg) rotate(-3deg);\n\ttransform: skew(-3deg) rotate(-3deg);\n\tbox-shadow: 0 8px 12px rgba(0, 0, 0, 0.4);\n}\n\n.m-signature-pad:after {\n\tleft: auto;\n\tright: 20px;\n\t-webkit-transform: skew(3deg) rotate(3deg);\n\t-moz-transform: skew(3deg) rotate(3deg);\n\t-ms-transform: skew(3deg) rotate(3deg);\n\t-o-transform: skew(3deg) rotate(3deg);\n\ttransform: skew(3deg) rotate(3deg);\n}\n\n.m-signature-pad--body {\n  padding: 20px;\n  // border: 1px solid #f4f4f4;\n}\n\n.m-signature-pad--body\n  canvas {\n    border-radius: 4px;\n    box-shadow: 0 0 5px rgba(0, 0, 0, 0.02) inset;\n  }\n\n.m-signature-pad--footer {\n  position: absolute;\n  left: 20px;\n  right: 20px;\n  bottom: 20px;\n  height: 40px;\n}\n\n.m-signature-pad--footer\n  .description {\n    color: #C3C3C3;\n    text-align: center;\n    font-size: 1.2em;\n    margin-top: 1.8em;\n  }\n\n.m-signature-pad--footer\n  .button {\n    position: absolute;\n    bottom: 0;\n  }\n\n.m-signature-pad--footer\n  .button.clear {\n    left: 0;\n  }\n\n.m-signature-pad--footer\n  .button.save {\n    right: 0;\n  }\n\n// @media screen and (max-width: 1024px) {\n//   .m-signature-pad {\n//     // top: 0;\n//     // left: 0;\n//     // right: 0;\n//     // bottom: 0;\n//     // width: auto;\n//     // height: auto;\n//     // min-width: 250px;\n//     // min-height: 140px;\n//     // margin: 5%;\n//   }\n//   #github {\n//     display: none;\n//   }\n// }\n\n// @media screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n//   .m-signature-pad {\n//     margin: 10%;\n//   }\n// }\n\n// @media screen and (max-height: 320px) {\n//   .m-signature-pad--body {\n//     left: 0;\n//     right: 0;\n//     top: 0;\n//     bottom: 32px;\n//   }\n//   .m-signature-pad--footer {\n//     left: 20px;\n//     right: 20px;\n//     bottom: 4px;\n//     height: 28px;\n//   }\n//   .m-signature-pad--footer\n//     .description {\n//       font-size: 1em;\n//       margin-top: 1em;\n//     }\n// }\n\n  ']}),a("design:paramtypes",[o.ElementRef])],s)},function(t,e,n){"use strict";var o=n(0),i=(n.n(o),n(5)),r=(n.n(i),n(1)),a=n(3);n.d(e,"a",function(){return h});var s=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},h=function(){function t(){}return t}();h=s([n.i(o.NgModule)({imports:[i.CommonModule],declarations:[r.a],providers:[a.a],exports:[r.a],entryComponents:[r.a]})],h)},function(t,e,n){"use strict";var o=n(0);n.n(o);n.d(e,"a",function(){return a});var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t}();a=i([n.i(o.Injectable)(),r("design:paramtypes",[])],a)},function(t,e,n){var o,i;!function(n,r){o=[],void 0!==(i=function(){return n.SignaturePad=r()}.apply(e,o))&&(t.exports=i)}(this,function(){return function(t){"use strict";var e=function(t,e){var n=this,o=e||{};this.velocityFilterWeight=o.velocityFilterWeight||.7,this.minWidth=o.minWidth||.5,this.maxWidth=o.maxWidth||2.5,this.dotSize=o.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=o.penColor||"black",this.backgroundColor=o.backgroundColor||"rgba(0,0,0,0)",this.onEnd=o.onEnd,this.onBegin=o.onBegin,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(n._mouseButtonDown=!0,n._strokeBegin(t))},this._handleMouseMove=function(t){n._mouseButtonDown&&n._strokeUpdate(t)},this._handleMouseUp=function(t){1===t.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(t))},this._handleTouchStart=function(t){if(1==t.targetTouches.length){var e=t.changedTouches[0];n._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];n._strokeUpdate(e)},this._handleTouchEnd=function(t){t.target===n._canvas&&(t.preventDefault(),n._strokeEnd(t))},this._handleMouseEvents(),this._handleTouchEvents()};e.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._reset()},e.prototype.toDataURL=function(t,e){var n=this._canvas;return n.toDataURL.apply(n,arguments)},e.prototype.fromDataURL=function(t){var e=this,n=new Image,o=window.devicePixelRatio||1,i=this._canvas.width/o,r=this._canvas.height/o;this._reset(),n.src=t,n.onload=function(){e._ctx.drawImage(n,0,0,i,r)},this._isEmpty=!1},e.prototype._strokeUpdate=function(t){var e=this._createPoint(t);this._addPoint(e)},e.prototype._strokeBegin=function(t){this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},e.prototype._strokeDraw=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},e.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];!e&&n&&this._strokeDraw(n),"function"==typeof this.onEnd&&this.onEnd(t)},e.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),t.addEventListener("mouseup",this._handleMouseUp)},e.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},e.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},e.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),t.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},e.prototype.isEmpty=function(){return this._isEmpty},e.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},e.prototype._createPoint=function(t){var e=this._canvas.getBoundingClientRect();return new n(t.clientX-e.left,t.clientY-e.top)},e.prototype._addPoint=function(t){var e,n,i,r,a=this.points;a.push(t),a.length>2&&(3===a.length&&a.unshift(a[0]),r=this._calculateCurveControlPoints(a[0],a[1],a[2]),e=r.c2,r=this._calculateCurveControlPoints(a[1],a[2],a[3]),n=r.c1,i=new o(a[1],e,n,a[2]),this._addCurve(i),a.shift())},e.prototype._calculateCurveControlPoints=function(t,e,o){var i=t.x-e.x,r=t.y-e.y,a=e.x-o.x,s=e.y-o.y,h={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:(e.x+o.x)/2,y:(e.y+o.y)/2},c=Math.sqrt(i*i+r*r),d=Math.sqrt(a*a+s*s),p=h.x-u.x,l=h.y-u.y,f=d/(c+d),g={x:u.x+p*f,y:u.y+l*f},m=e.x-g.x,y=e.y-g.y;return{c1:new n(h.x+m,h.y+y),c2:new n(u.x+m,u.y+y)}},e.prototype._addCurve=function(t){var e,n,o=t.startPoint,i=t.endPoint;e=i.velocityFrom(o),e=this.velocityFilterWeight*e+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(e),this._drawCurve(t,this._lastWidth,n),this._lastVelocity=e,this._lastWidth=n},e.prototype._drawPoint=function(t,e,n){var o=this._ctx;o.moveTo(t,e),o.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},e.prototype._drawCurve=function(t,e,n){var o,i,r,a,s,h,u,c,d,p,l,f=this._ctx,g=n-e;for(o=Math.floor(t.length()),f.beginPath(),r=0;r<o;r++)a=r/o,s=a*a,h=s*a,u=1-a,c=u*u,d=c*u,p=d*t.startPoint.x,p+=3*c*a*t.control1.x,p+=3*u*s*t.control2.x,p+=h*t.endPoint.x,l=d*t.startPoint.y,l+=3*c*a*t.control1.y,l+=3*u*s*t.control2.y,l+=h*t.endPoint.y,i=e+h*g,this._drawPoint(p,l,i);f.closePath(),f.fill()},e.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};var n=function(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()};n.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},n.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};var o=function(t,e,n,o){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=o};return o.prototype.length=function(){var t,e,n,o,i,r,a,s,h=10,u=0;for(t=0;t<=h;t++)e=t/h,n=this._point(e,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(e,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),t>0&&(a=n-i,s=o-r,u+=Math.sqrt(a*a+s*s)),i=n,r=o;return u},o.prototype._point=function(t,e,n,o,i){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*o*(1-t)*t*t+i*t*t*t},e}(document)})},function(t,n){t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);n.d(e,"SignaturePadModule",function(){return o.a});var i=n(1);n.d(e,"SignaturePadComponent",function(){return i.a})}])});